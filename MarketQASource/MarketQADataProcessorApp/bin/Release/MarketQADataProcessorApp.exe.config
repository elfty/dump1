<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog"/>
  </configSections>

  <nlog globalThreshold="Trace">
    <targets>
      <target name="console" type="ColoredConsole" layout="${date:format=HH\:mm\:ss.fff} ${level:uppercase=true} ${threadid} ${logger:shortname=true} - ${message}"/>
      <target name="file" type="File" filename="${basedir}/FXConversion-Log-${environment:username}-${machinename}-${date:format=yyyy-MM-dd-HH}-${processid}.log" layout="${longdate} ${level} ${threadid} ${logger} - ${message}"/>
      <target name="fileSymbols" type="File" filename="${basedir}/FXConversion-Symbols-${environment:username}-${machinename}-${date:format=yyyy-MM-dd-HH}-${processid}.log" layout="${message}"/>
      <target name="fileTransactions" type="File" filename="${basedir}/FXConversion-Transactions-${environment:username}-${machinename}-${date:format=yyyy-MM-dd-HH}-${processid}.log" layout="${message}"/>
      <target name="fileReplay" type="File" filename="${basedir}/FXConversion-Replay-${environment:username}-${machinename}-${date:format=yyyy-MM-dd-HH}-${processid}.log" layout="${message}"/>

      <!--<target name="file" xsi:type="AsyncWrapper" queueLimit="5000" overflowAction="Discard">
        <target xsi:type="File" fileName="${basedir}/logs/${level}.txt" />
      </target>-->

    </targets>
    <rules>
      <logger name="*" minlevel="Info" writeTo="console"/>
      <logger name="*" minLevel="Trace" writeTo="file"/>
      <logger name="SymbolLogger" minLevel="Trace" writeTo="fileSymbols" final="true"/>
      <logger name="TransactionsLogger" minLevel="Trace" writeTo="fileTransactions" final="true"/>
      <logger name="ReplayLogger" minLevel="Trace" writeTo="fileReplay" final="true"/>
    </rules>
  </nlog>
  
  <appSettings>
    <add key="AssemblyPath" value=".;lib;..\lib" />
  </appSettings>
  
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/>
  </startup>


	
</configuration>